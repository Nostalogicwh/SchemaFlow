@import "tailwindcss";

html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* ============================================
   动画定义 - 与 designTokens.ts 中的 
   transitionSystem 保持一致
   
   fast: 150ms   - hover、焦点状态
   normal: 200ms - 面板展开收起
   slow: 300ms   - 布局变化
   ============================================ */

/* Slide animations - 300ms (slow) */
@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-in-up {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slide-in-down {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Fade animation - 200ms (normal) */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Scale fade animation - 200ms (normal) */
@keyframes scale-in {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Utility classes - 动画时长与 transitionSystem 保持一致 */
.animate-slide-in {
  animation: slide-in 300ms ease-out;
}

.animate-slide-in-up {
  animation: slide-in-up 300ms ease-out;
}

.animate-slide-in-down {
  animation: slide-in-down 300ms ease-out;
}

.animate-fade-in {
  animation: fade-in 200ms ease-out;
}

.animate-scale-in {
  animation: scale-in 200ms ease-out;
}

/* ============================================
   节点相关动画
   ============================================ */

@keyframes node-pulse {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
  }
  50% {
    opacity: 0.85;
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.3);
  }
}

.animate-node-pulse {
  animation: node-pulse 1.5s ease-in-out infinite;
}

/* ============================================
   加载和状态动画
   ============================================ */

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin 2s linear infinite;
}

/* Shimmer - 骨架屏闪烁效果 - 2000ms */
@keyframes shimmer {
  0% { 
    background-position: -200% 0; 
  }
  100% { 
    background-position: 200% 0; 
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg, 
    transparent 0%, 
    rgba(59, 130, 246, 0.2) 50%, 
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s ease-in-out infinite;
}

/* Flash green - 成功状态闪烁 - 600ms */
@keyframes flash-green {
  0%, 100% { 
    box-shadow: none; 
  }
  50% { 
    box-shadow: 0 0 10px #22C55E; 
  }
}

.animate-flash-green {
  animation: flash-green 0.6s ease-in-out;
}

/* ============================================
   过渡类 - 与 designTokens.ts 保持一致
   ============================================ */

/* Fast transition - 150ms */
.transition-fast {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: ease-out;
  transition-duration: 150ms;
}

/* Normal transition - 200ms */
.transition-normal {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: ease-out;
  transition-duration: 200ms;
}

/* Slow transition - 300ms */
.transition-slow {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: ease-out;
  transition-duration: 300ms;
}

/* ============================================
   聚焦状态过渡
   ============================================ */

/* 输入框聚焦状态 - 使用 fast 150ms */
.focus-transition {
  transition: border-color 150ms ease-out, 
              box-shadow 150ms ease-out, 
              background-color 150ms ease-out;
}

/* 按钮状态过渡 - 使用 fast 150ms */
.button-transition {
  transition: background-color 150ms ease-out, 
              border-color 150ms ease-out, 
              color 150ms ease-out, 
              transform 150ms ease-out,
              box-shadow 150ms ease-out;
}
